/*!
 * tonyphipps
 * Tony Phipps - UX Designer and Front-end developer
 * http://tonyphipps.co.uk
 * @author Tony Phipps
 * @version 1.0.0
 * Copyright 2015. All Right Reserved licensed.
 */
!function(a,b,c,d){"use strict";a(function(){var c=a(".sidebar"),d=a(".contact"),e=function(b){a(b).on("click",function(a){a.preventDefault(),c.toggleClass("sidebar--open"),d.toggleClass("contact--open"),f()})},f=function(){for(var b=a(".js--tabbable"),d=0,e=b.length;e>d;d++)c.hasClass("sidebar--open")?b[d].setAttribute("tabindex",""):b[d].setAttribute("tabindex","-1")};a(".js--submit-btn").click(function(b){b.preventDefault();var c=!0,d="",e="";a(".contact-form input[required], .contact-form textarea[required]").each(function(){a(this).addClass("success"),a.trim(a(this).val())?(a(this).removeClass("error"),a(this).addClass("success")):(a(this).removeClass("success"),a(this).addClass("error"),e='<p class="error"><span>Whoops, an error has occurred.</span> Please ensure you have filled out all required fields.</p>',a(".contact-form .contact-form__messages").hide().html(e).fadeIn(),c=!1);var b=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;"email"!==a(this).attr("type")||b.test(a.trim(a(this).val()))||(a(this).removeClass("success"),a(this).addClass("error"),c=!1)}),c&&(d={name:a('input[name="name"]').val(),email:a('input[name="email"]').val(),message:a('textarea[name="message"]').val()},a.post("./mailer.php",d,function(b){"error"===b.type?e='<p class="error"><span>Whoops, an error has occurred.</span> '+b.text+"</p>":(e='<p class="success">'+b.text+"</p>",a(".contact-form  input[type=text], .contact-form textarea").val("").removeClass("success"),a(".contact-form #contact_body").slideUp()),a(".contact-form .contact-form__messages").hide().html(e).fadeIn()},"json"))}),e(".js--contact-form-open"),e(".js--contact-form-close"),a(b).load(function(){a(".loading").fadeOut()})})}(jQuery,window,document);